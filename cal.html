<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .calculator-shadow {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transition: all 0.3s ease;
        }
        
        .calculator-shadow:hover {
            transform: translateY(-2px);
            box-shadow: 0 35px 70px -12px rgba(0, 0, 0, 0.35);
        }
        
        .glass-display {
            backdrop-filter: blur(25px);
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.15), 
                rgba(255, 255, 255, 0.05)
            );
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 20px 40px 0 rgba(0, 0, 0, 0.1),
                inset 0 2px 0 rgba(255, 255, 255, 0.3),
                inset 0 -2px 0 rgba(0, 0, 0, 0.1);
        }
        
        .display-content {
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.2));
            transition: all 0.2s ease;
        }
        
        .glass-button {
            backdrop-filter: blur(15px);
            background: rgba(255, 255, 255, 0.08);
            border: 0.5px solid rgba(255, 255, 255, 0.15);
            box-shadow: 
                0 8px 32px 0 rgba(31, 38, 135, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 -1px 0 rgba(0, 0, 0, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .glass-button-dark {
            backdrop-filter: blur(15px);
            background: rgba(0, 0, 0, 0.15);
            border: 0.5px solid rgba(255, 255, 255, 0.08);
            box-shadow: 
                0 8px 32px 0 rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                inset 0 -1px 0 rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .glass-button:hover {
            background: rgba(255, 255, 255, 0.12);
            border: 0.5px solid rgba(255, 255, 255, 0.25);
            transform: translateY(-1px);
            box-shadow: 
                0 12px 40px 0 rgba(31, 38, 135, 0.35),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                inset 0 -1px 0 rgba(0, 0, 0, 0.05);
        }
        
        .glass-button-dark:hover {
            background: rgba(0, 0, 0, 0.2);
            border: 0.5px solid rgba(255, 255, 255, 0.15);
            transform: translateY(-1px);
            box-shadow: 
                0 12px 40px 0 rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.15),
                inset 0 -1px 0 rgba(0, 0, 0, 0.1);
        }
        
        .glass-button:active {
            transform: scale(0.96) translateY(0px);
            background: rgba(255, 255, 255, 0.18);
            border: 0.5px solid rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 4px 16px 0 rgba(31, 38, 135, 0.2),
                inset 0 2px 4px rgba(0, 0, 0, 0.1);
            backdrop-filter: none;
        }
        
        .glass-button-dark:active {
            transform: scale(0.96) translateY(0px);
            background: rgba(255, 255, 255, 0.08);
            border: 0.5px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 4px 16px 0 rgba(0, 0, 0, 0.15),
                inset 0 2px 4px rgba(0, 0, 0, 0.15);
            backdrop-filter: none;
        }
        
        .glass-operator-button {
            backdrop-filter: blur(20px);
            background: linear-gradient(135deg, rgba(250, 213, 132, 0.25), rgba(250, 213, 132, 0.35));
            border: 0.5px solid rgba(250, 213, 132, 0.4);
            box-shadow: 
                0 12px 40px 0 rgba(250, 213, 132, 0.3), 
                inset 0 1px 0 rgba(255, 255, 255, 0.25),
                inset 0 -1px 0 rgba(250, 213, 132, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .glass-operator-button:hover {
            background: linear-gradient(135deg, rgba(250, 213, 132, 0.35), rgba(250, 213, 132, 0.45));
            border: 0.5px solid rgba(250, 213, 132, 0.6);
            transform: translateY(-1px);
            box-shadow: 
                0 16px 50px 0 rgba(250, 213, 132, 0.4), 
                inset 0 1px 0 rgba(255, 255, 255, 0.35),
                inset 0 -1px 0 rgba(250, 213, 132, 0.15);
        }
        
        .glass-operator-button:active {
            transform: scale(0.96) translateY(0px);
            background: linear-gradient(135deg, rgba(250, 213, 132, 0.45), rgba(250, 213, 132, 0.55));
            border: 0.5px solid rgba(250, 213, 132, 0.7);
            box-shadow: 
                0 6px 20px 0 rgba(250, 213, 132, 0.25), 
                inset 0 2px 4px rgba(0, 0, 0, 0.1);
            backdrop-filter: none;
        }
        
        .modern-author-badge {
            position: relative;
            overflow: hidden;
        }
        
        .blinking-dot {
            animation: modern-blink 2s infinite;
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
        }
        
        @keyframes modern-blink {
            0%, 100% {
                background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
                box-shadow: 0 0 8px rgba(255, 107, 107, 0.6), 0 0 16px rgba(78, 205, 196, 0.4);
                transform: scale(1);
            }
            12.5% {
                background: linear-gradient(45deg, #4ecdc4, #45b7d1);
                box-shadow: 0 0 8px rgba(78, 205, 196, 0.6), 0 0 16px rgba(69, 183, 209, 0.4);
                transform: scale(1.1);
            }
            25% {
                background: linear-gradient(45deg, #45b7d1, #96ceb4);
                box-shadow: 0 0 8px rgba(69, 183, 209, 0.6), 0 0 16px rgba(150, 206, 180, 0.4);
                transform: scale(1);
            }
            37.5% {
                background: linear-gradient(45deg, #96ceb4, #feca57);
                box-shadow: 0 0 8px rgba(150, 206, 180, 0.6), 0 0 16px rgba(254, 202, 87, 0.4);
                transform: scale(1.1);
            }
            50% {
                background: linear-gradient(45deg, #feca57, #ff9ff3);
                box-shadow: 0 0 8px rgba(254, 202, 87, 0.6), 0 0 16px rgba(255, 159, 243, 0.4);
                transform: scale(1);
            }
            62.5% {
                background: linear-gradient(45deg, #ff9ff3, #54a0ff);
                box-shadow: 0 0 8px rgba(255, 159, 243, 0.6), 0 0 16px rgba(84, 160, 255, 0.4);
                transform: scale(1.1);
            }
            75% {
                background: linear-gradient(45deg, #54a0ff, #5f27cd);
                box-shadow: 0 0 8px rgba(84, 160, 255, 0.6), 0 0 16px rgba(95, 39, 205, 0.4);
                transform: scale(1);
            }
            87.5% {
                background: linear-gradient(45deg, #5f27cd, #00d2d3);
                box-shadow: 0 0 8px rgba(95, 39, 205, 0.6), 0 0 16px rgba(0, 210, 211, 0.4);
                transform: scale(1.1);
            }
        }
        
        @keyframes menu-slide-in {
            0% {
                opacity: 0;
                transform: translateY(-10px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes modal-entrance {
            0% {
                opacity: 0;
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes icon-popup {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.3);
            }
            100% {
                transform: scale(1);
            }
        }
        
        .icon-animate {
            animation: icon-popup 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .button-content {
            display: inline-block;
            transition: transform 0.1s ease;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.visible{visibility:visible}.invisible{visibility:hidden}.absolute{position:absolute}.relative{position:relative}.left-0{left:0px}.right-0{right:0px}.top-12{top:3rem}.z-50{z-index:50}.col-span-2{grid-column:span 2 / span 2}.row-span-2{grid-row:span 2 / span 2}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.block{display:block}.flex{display:flex}.grid{display:grid}.h-2{height:0.5rem}.h-3{height:0.75rem}.h-3\.5{height:0.875rem}.h-4{height:1rem}.min-h-screen{min-height:100vh}.min-h-\[60px\]{min-height:60px}.w-2{width:0.5rem}.w-3{width:0.75rem}.w-3\.5{width:0.875rem}.w-4{width:1rem}.w-full{width:100%}.min-w-\[160px\]{min-width:160px}.min-w-\[180px\]{min-width:180px}.max-w-xs{max-width:20rem}.translate-y-2{--tw-translate-y:0.5rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-0{--tw-translate-y:0px;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-90{--tw-scale-x:.9;--tw-scale-y:.9;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1\.5{gap:0.375rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.overflow-hidden{overflow:hidden}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-red-400\/30{border-color:rgb(248 113 113 / 0.3)}.border-white\/10{border-color:rgb(255 255 255 / 0.1)}.border-white\/20{border-color:rgb(255 255 255 / 0.2)}.border-white\/5{border-color:rgb(255 255 255 / 0.05)}.bg-red-500\/20{background-color:rgb(239 68 68 / 0.2)}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/10{background-color:rgb(255 255 255 / 0.1)}.bg-white\/5{background-color:rgb(255 255 255 / 0.05)}.bg-gradient-to-br{background-image:linear-gradient(to bottom right, var(--tw-gradient-stops))}.from-purple-600{--tw-gradient-from:#9333ea var(--tw-gradient-from-position);--tw-gradient-to:rgb(147 51 234 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.via-blue-600{--tw-gradient-to:rgb(37 99 235 / 0)  var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), #2563eb var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-indigo-800{--tw-gradient-to:#3730a3 var(--tw-gradient-to-position)}.p-2{padding:0.5rem}.p-1\.5{padding:0.375rem}.p-4{padding:1rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2\.5{padding-top:0.625rem;padding-bottom:0.625rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.text-left{text-align:left}.text-right{text-align:right}.text-2xl{font-size:1.5rem;line-height:2rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.tracking-wide{letter-spacing:0.025em}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-red-300{--tw-text-opacity:1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\/80{color:rgb(255 255 255 / 0.8)}.text-white\/90{color:rgb(255 255 255 / 0.9)}.opacity-0{opacity:0}.opacity-100{opacity:1}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-black\/30{--tw-shadow-color:rgb(0 0 0 / 0.3);--tw-shadow:var(--tw-shadow-colored)}.drop-shadow-lg{--tw-drop-shadow:drop-shadow(0 10px 8px rgb(0 0 0 / 0.04)) drop-shadow(0 4px 3px rgb(0 0 0 / 0.1));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-2xl{--tw-backdrop-blur:blur(40px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-\[20px\]{--tw-backdrop-blur:blur(20px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-\[40px\]{--tw-backdrop-blur:blur(40px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-200{transition-duration:200ms}.duration-300{transition-duration:300ms}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:border-red-400\/50:hover{border-color:rgb(248 113 113 / 0.5)}.hover\:border-white\/15:hover{border-color:rgb(255 255 255 / 0.15)}.hover\:border-white\/25:hover{border-color:rgb(255 255 255 / 0.25)}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-red-500\/30:hover{background-color:rgb(239 68 68 / 0.3)}.hover\:bg-white\/10:hover{background-color:rgb(255 255 255 / 0.1)}.hover\:bg-white\/15:hover{background-color:rgb(255 255 255 / 0.15)}.hover\:text-red-200:hover{--tw-text-opacity:1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.hover\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.hover\:shadow-2xl:hover{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.hover\:shadow-red-500\/20:hover{--tw-shadow-color:rgb(239 68 68 / 0.2);--tw-shadow:var(--tw-shadow-colored)}.hover\:shadow-white\/10:hover{--tw-shadow-color:rgb(255 255 255 / 0.1);--tw-shadow:var(--tw-shadow-colored)}.active\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:-translate-x-0\.5{--tw-translate-x:-0.125rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:rotate-12{--tw-rotate:12deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:rotate-90{--tw-rotate:90deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:border-white\/20{border-color:rgb(255 255 255 / 0.2)}.group:hover .group-hover\:bg-white\/15{background-color:rgb(255 255 255 / 0.15)}.group:hover .group-hover\:text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}@media (min-width: 640px){.sm\:top-14{top:3.5rem}.sm\:mb-4{margin-bottom:1rem}.sm\:mb-6{margin-bottom:1.5rem}.sm\:h-2\.5{height:0.625rem}.sm\:h-3\.5{height:0.875rem}.sm\:h-4{height:1rem}.sm\:h-5{height:1.25rem}.sm\:min-h-\[80px\]{min-height:80px}.sm\:w-2\.5{width:0.625rem}.sm\:w-3\.5{width:0.875rem}.sm\:w-4{width:1rem}.sm\:w-5{width:1.25rem}.sm\:min-w-\[200px\]{min-width:200px}.sm\:min-w-\[220px\]{min-width:220px}.sm\:max-w-sm{max-width:24rem}.sm\:gap-2{gap:0.5rem}.sm\:gap-3{gap:0.75rem}.sm\:gap-4{gap:1rem}.sm\:rounded-2xl{border-radius:1rem}.sm\:rounded-3xl{border-radius:1.5rem}.sm\:rounded-lg{border-radius:0.5rem}.sm\:rounded-xl{border-radius:0.75rem}.sm\:p-4{padding:1rem}.sm\:p-2{padding:0.5rem}.sm\:p-3{padding:0.75rem}.sm\:p-6{padding:1.5rem}.sm\:p-8{padding:2rem}.sm\:px-3{padding-left:0.75rem;padding-right:0.75rem}.sm\:px-4{padding-left:1rem;padding-right:1rem}.sm\:py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.sm\:py-3{padding-top:0.75rem;padding-bottom:0.75rem}.sm\:py-4{padding-top:1rem;padding-bottom:1rem}.sm\:text-4xl{font-size:2.25rem;line-height:2.5rem}.sm\:text-base{font-size:1rem;line-height:1.5rem}.sm\:text-sm{font-size:0.875rem;line-height:1.25rem}}@media (prefers-color-scheme: dark){.dark\:border-red-400\/30{border-color:rgb(248 113 113 / 0.3)}.dark\:border-white\/10{border-color:rgb(255 255 255 / 0.1)}.dark\:bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\:bg-red-500\/20{background-color:rgb(239 68 68 / 0.2)}.dark\:bg-white\/5{background-color:rgb(255 255 255 / 0.05)}.dark\:text-gray-200{--tw-text-opacity:1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.dark\:text-red-300{--tw-text-opacity:1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.dark\:text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\:text-white\/80{color:rgb(255 255 255 / 0.8)}.dark\:text-white\/90{color:rgb(255 255 255 / 0.9)}.dark\:hover\:bg-gray-600:hover{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.dark\:hover\:bg-red-500\/30:hover{background-color:rgb(239 68 68 / 0.3)}.dark\:hover\:bg-white\/10:hover{background-color:rgb(255 255 255 / 0.1)}.dark\:hover\:bg-white\/15:hover{background-color:rgb(255 255 255 / 0.15)}.dark\:hover\:text-red-200:hover{--tw-text-opacity:1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.dark\:hover\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}}</style></head>
<body class="min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-800 flex items-center justify-center p-2 sm:p-4">
    <div class="calculator-shadow bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl p-4 sm:p-8 w-full max-w-xs sm:max-w-sm transition-colors duration-300">
        <!-- Header with Menu and Theme Toggle -->
        <div class="flex justify-between items-center mb-3 sm:mb-4">
            <!-- Left side buttons -->
            <div class="flex items-center gap-2">
                <!-- Three Dot Menu Button -->
                <div class="relative">
                    <button onclick="toggleMenu()" class="bg-white/5 dark:bg-white/5 backdrop-blur-2xl border border-white/10 dark:border-white/10 hover:bg-white/15 dark:hover:bg-white/15 hover:border-white/25 hover:shadow-2xl hover:shadow-white/10 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white p-2 sm:p-3 rounded-xl sm:rounded-2xl transition-all duration-300 shadow-xl hover:scale-105 active:scale-95 group">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5 drop-shadow-lg transition-transform duration-300 group-hover:rotate-90" fill="currentColor" viewBox="0 0 20 20">
                            <circle cx="10" cy="3" r="1.8"></circle>
                            <circle cx="10" cy="10" r="1.8"></circle>
                            <circle cx="10" cy="17" r="1.8"></circle>
                        </svg>
                    </button>
                
                <!-- Menu Dropdown -->
                <div id="menuDropdown" class="absolute left-0 top-12 sm:top-14 bg-white/3 dark:bg-white/3 backdrop-blur-[40px] border border-white/8 dark:border-white/8 rounded-xl sm:rounded-2xl shadow-2xl shadow-black/30 min-w-[180px] sm:min-w-[220px] z-50 transition-all duration-300 transform opacity-0 invisible scale-90 translate-y-2">
                    <div class="p-2 sm:p-3">
                        <button onclick="showHistory()" class="w-full text-left px-3 py-3 sm:px-4 sm:py-4 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/8 dark:hover:bg-white/8 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-sm sm:text-base">History</span>
                        </button>
                        <button onclick="randomizeColors()" class="w-full text-left px-3 py-3 sm:px-4 sm:py-4 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/8 dark:hover:bg-white/8 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2a1 1 0 011-1h4a1 1 0 011 1v2M7 4h6M7 4l-2 16h8l-2-16M9 8v8m2-8v8"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-sm sm:text-base">Colors</span>
                        </button>
                        <button onclick="resetColors()" class="w-full text-left px-3 py-3 sm:px-4 sm:py-4 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/8 dark:hover:bg-white/8 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-sm sm:text-base">Reset Colors</span>
                        </button>
                        <button onclick="toggleSound()" class="w-full text-left px-3 py-3 sm:px-4 sm:py-4 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/8 dark:hover:bg-white/8 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M6.343 6.343a8 8 0 1011.314 11.314"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-sm sm:text-base" id="soundToggleText">Sound: ON</span>
                        </button>
                        <button onclick="showAbout()" class="w-full text-left px-3 py-3 sm:px-4 sm:py-4 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/8 dark:hover:bg-white/8 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-sm sm:text-base">About</span>
                        </button>
                    </div>
                </div>
                </div>
                
                <!-- Compact Clear Button -->
                <button onclick="clearAll()" class="bg-red-500/20 dark:bg-red-500/20 backdrop-blur-2xl border border-red-400/30 dark:border-red-400/30 hover:bg-red-500/30 dark:hover:bg-red-500/30 hover:border-red-400/50 hover:shadow-2xl hover:shadow-red-500/20 text-red-300 dark:text-red-300 hover:text-red-200 dark:hover:text-red-200 p-2 sm:p-3 rounded-xl sm:rounded-2xl transition-all duration-300 shadow-xl hover:scale-105 active:scale-95 group">
                    <svg class="w-4 h-4 sm:w-5 sm:h-5 drop-shadow-lg transition-transform duration-300 group-hover:rotate-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Modern Author Badge -->
            <div class="relative">
                <div class="modern-author-badge bg-white/10 dark:bg-white/5 backdrop-blur-2xl border border-white/20 dark:border-white/10 px-2 py-1 sm:px-3 sm:py-1.5 rounded-full transition-all duration-300 shadow-xl hover:scale-105 active:scale-95 group cursor-pointer" onclick="toggleAuthorMenu()">
                    <div class="flex items-center gap-1.5 sm:gap-2">
                        <div class="w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full blinking-dot"></div>
                        <span class="text-white/90 dark:text-white/90 text-xs sm:text-sm font-medium tracking-wide drop-shadow-lg group-hover:text-white transition-colors duration-300">
                            BY SHAMI
                        </span>
                    </div>
                </div>
                
                <!-- Author Links Menu -->
                <div id="authorMenu" class="absolute right-0 top-12 sm:top-14 bg-white/5 dark:bg-white/5 backdrop-blur-[40px] border border-white/10 dark:border-white/10 rounded-xl sm:rounded-2xl shadow-2xl shadow-black/30 min-w-[160px] sm:min-w-[200px] z-50 opacity-0 invisible transition-all duration-300 transform scale-90 translate-y-2">
                    <div class="p-2 sm:p-3">
                        <a href="https://github.com/shamikhan" target="_blank" class="w-full text-left px-3 py-2.5 sm:px-4 sm:py-3 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15 block">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3 h-3 sm:w-3.5 sm:h-3.5 drop-shadow-lg" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-xs sm:text-sm">GitHub</span>
                        </a>
                        
                        <a href="https://linkedin.com/in/shamikhan" target="_blank" class="w-full text-left px-3 py-2.5 sm:px-4 sm:py-3 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15 block">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3 h-3 sm:w-3.5 sm:h-3.5 drop-shadow-lg" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-xs sm:text-sm">LinkedIn</span>
                        </a>
                        
                        <a href="https://twitter.com/shamikhan" target="_blank" class="w-full text-left px-3 py-2.5 sm:px-4 sm:py-3 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15 block">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3 h-3 sm:w-3.5 sm:h-3.5 drop-shadow-lg" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-xs sm:text-sm">Twitter</span>
                        </a>
                        
                        <a href="mailto:shami@example.com" class="w-full text-left px-3 py-2.5 sm:px-4 sm:py-3 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15 block">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3 h-3 sm:w-3.5 sm:h-3.5 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-xs sm:text-sm">Email</span>
                        </a>
                        
                        <button onclick="toggleDarkMode(); toggleAuthorMenu();" class="w-full text-left px-3 py-2.5 sm:px-4 sm:py-3 text-white/80 dark:text-white/80 hover:text-white dark:hover:text-white hover:bg-white/10 dark:hover:bg-white/10 rounded-lg sm:rounded-xl transition-all duration-200 flex items-center gap-3 sm:gap-4 backdrop-blur-[20px] group hover:scale-105 active:scale-95 border border-white/5 hover:border-white/15">
                            <div class="p-1.5 sm:p-2 bg-white/5 rounded-md sm:rounded-lg group-hover:bg-white/15 transition-all duration-200 backdrop-blur-[20px] border border-white/8 group-hover:border-white/20">
                                <svg class="w-3 h-3 sm:w-3.5 sm:h-3.5 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                                </svg>
                            </div>
                            <span class="drop-shadow-lg font-medium text-xs sm:text-sm">Theme</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Display -->
        <div class="mb-4 sm:mb-6">
            <div id="display" class="glass-display text-white dark:text-white text-right text-2xl sm:text-4xl font-medium p-4 sm:p-6 rounded-xl sm:rounded-2xl min-h-[60px] sm:min-h-[80px] flex items-center justify-end overflow-hidden transition-all duration-300 shadow-2xl">
                <div class="display-content">0</div>
            </div>
        </div>

        <!-- Buttons Grid -->
        <div class="grid grid-cols-4 gap-2 sm:gap-3" id="buttonsGrid">
            <!-- Row 1 -->
            <button onclick="deleteLastDigit()" class="glass-operator-button text-white font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm group">
                <span class="button-content icon-animate">
                    <svg class="w-4 h-4 sm:w-5 sm:h-5 drop-shadow-lg transition-transform duration-200 group-hover:-translate-x-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z"></path>
                    </svg>
                </span>
            </button>
            <button onclick="inputPercentage()" class="glass-operator-button text-white font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">%</span>
            </button>
            <button onclick="inputOperator('/')" class="glass-operator-button text-white font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">÷</span>
            </button>
            <button onclick="inputOperator('*')" class="glass-operator-button text-white font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">×</span>
            </button>

            <!-- Row 2 -->
            <button onclick="inputNumber('7')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">7</span>
            </button>
            <button onclick="inputNumber('8')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">8</span>
            </button>
            <button onclick="inputNumber('9')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">9</span>
            </button>
            <button onclick="inputOperator('-')" class="glass-operator-button text-white font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">−</span>
            </button>

            <!-- Row 3 -->
            <button onclick="inputNumber('4')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">4</span>
            </button>
            <button onclick="inputNumber('5')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">5</span>
            </button>
            <button onclick="inputNumber('6')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">6</span>
            </button>
            <button onclick="inputOperator('+')" class="glass-operator-button text-white font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">+</span>
            </button>

            <!-- Row 4 -->
            <button onclick="inputNumber('1')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">1</span>
            </button>
            <button onclick="inputNumber('2')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">2</span>
            </button>
            <button onclick="inputNumber('3')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">3</span>
            </button>
            <button onclick="calculate()" class="glass-operator-button text-white font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm row-span-2">
                <span class="button-content">=</span>
            </button>

            <!-- Row 5 -->
            <button onclick="inputNumber('0')" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm col-span-2">
                <span class="button-content">0</span>
            </button>
            <button onclick="inputDecimal()" class="glass-button dark:glass-button-dark hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-3 px-2 sm:py-4 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-sm">
                <span class="button-content">.</span>
            </button>
        </div>
    </div>

    <script>
        let display = document.getElementById('display');
        let currentInput = '0';
        let operator = null;
        let previousInput = null;
        let waitingForOperand = false;
        let calculationHistory = JSON.parse(localStorage.getItem('calculatorHistory')) || [];
        
        // Sound system using Web Audio API
        let audioContext;
        let soundEnabled = localStorage.getItem('soundEnabled') !== 'false'; // Default to enabled
        
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }
        
        function playSound(frequency, duration = 0.1, type = 'sine', volume = 0.3) {
            if (!soundEnabled) return;
            
            try {
                initAudio();
                
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                oscillator.type = type;
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(volume, audioContext.currentTime + 0.01);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + duration);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration);
            } catch (error) {
                console.log('Audio not supported');
            }
        }
        
        function playNumberSound() {
            playSound(800, 0.08, 'sine', 0.25);
        }
        
        function playOperatorSound() {
            // Soft, warm sine wave with gentle attack
            playSound(440, 0.15, 'sine', 0.2);
        }
        
        function playEqualsSound() {
            // Play a chord-like sound for equals
            playSound(523, 0.2, 'sine', 0.25); // C
            setTimeout(() => playSound(659, 0.2, 'sine', 0.2), 50); // E
            setTimeout(() => playSound(784, 0.2, 'sine', 0.15), 100); // G
        }
        
        function playClearSound() {
            // Gentle, comforting clear sound - soft descending notes
            playSound(659, 0.12, 'sine', 0.18); // E5
            setTimeout(() => playSound(523, 0.15, 'sine', 0.15), 80); // C5
            setTimeout(() => playSound(392, 0.18, 'sine', 0.12), 160); // G4
        }
        
        function playDeleteSound() {
            playSound(300, 0.1, 'triangle', 0.2);
        }
        
        function playMenuSound() {
            // Nintendo Switch-style menu navigation sound
            playSound(800, 0.08, 'sine', 0.15);
            setTimeout(() => playSound(1200, 0.06, 'sine', 0.1), 40);
        }
        
        function playMenuOpenSound() {
            // Nintendo Switch menu open sound - ascending notes
            playSound(523, 0.1, 'sine', 0.2); // C5
            setTimeout(() => playSound(659, 0.1, 'sine', 0.15), 50); // E5
            setTimeout(() => playSound(784, 0.12, 'sine', 0.12), 100); // G5
        }
        
        function playMenuCloseSound() {
            // Nintendo Switch menu close sound - descending notes
            playSound(784, 0.08, 'sine', 0.15); // G5
            setTimeout(() => playSound(659, 0.08, 'sine', 0.12), 40); // E5
            setTimeout(() => playSound(523, 0.1, 'sine', 0.1), 80); // C5
        }
        
        function playMenuSelectSound() {
            // Nintendo Switch selection confirm sound
            playSound(1047, 0.12, 'sine', 0.18); // C6
            setTimeout(() => playSound(1319, 0.1, 'sine', 0.12), 60); // E6
        }
        
        // Vibration system
        function vibrate(pattern) {
            if ('vibrate' in navigator) {
                navigator.vibrate(pattern);
            }
        }
        
        function getNumberVibration(number) {
            // Convert number to integer for vibration calculation
            const num = parseInt(number);
            
            // Base vibration intensity increases with number value
            // 0 = 10ms, 1 = 15ms, 2 = 20ms, ..., 9 = 55ms
            const intensity = 10 + (num * 5);
            return intensity;
        }
        
        function getOperatorVibration(operator) {
            // Different vibration patterns for different operators
            switch(operator) {
                case '+': return 30;
                case '-': return 35;
                case '*': return 40;
                case '/': return 45;
                case '=': return [50, 20, 50]; // Double pulse for equals
                case '%': return 25;
                default: return 30;
            }
        }
        
        function getSpecialVibration(action) {
            // Special vibration patterns for special actions
            switch(action) {
                case 'clear': return [60, 30, 40, 20, 30]; // Clearing pattern
                case 'delete': return [20, 10, 20]; // Quick double tap
                case 'decimal': return 15; // Light vibration for decimal
                case 'menu': return 25; // Medium vibration for menu
                default: return 20;
            }
        }
        
        function toggleSound() {
            soundEnabled = !soundEnabled;
            localStorage.setItem('soundEnabled', soundEnabled);
            
            // Update the menu text
            const soundToggleText = document.getElementById('soundToggleText');
            if (soundToggleText) {
                soundToggleText.textContent = soundEnabled ? 'Sound: ON' : 'Sound: OFF';
            }
            
            if (soundEnabled) {
                playMenuSound(); // Play sound to confirm toggle
            }
            toggleMenu(); // Close menu after toggle
        }

        function updateDisplay() {
            let displayText = '';
            
            // Show the complete calculation process
            if (previousInput !== null) {
                // Show the first number without truncation
                let firstValue = parseFloat(previousInput);
                displayText += firstValue.toLocaleString();
                
                // Add operator symbol
                if (operator) {
                    switch (operator) {
                        case '+':
                            displayText += ' + ';
                            break;
                        case '-':
                            displayText += ' − ';
                            break;
                        case '*':
                            displayText += ' × ';
                            break;
                        case '/':
                            displayText += ' ÷ ';
                            break;
                    }
                }
                
                // Add current number if not waiting for operand
                if (!waitingForOperand) {
                    let currentValue = parseFloat(currentInput);
                    displayText += currentValue.toLocaleString();
                }
            } else {
                // Show current input without truncation
                let displayValue = parseFloat(currentInput);
                displayText = displayValue.toLocaleString();
            }
            
            const displayContent = display.querySelector('.display-content');
            displayContent.textContent = displayText;
        }

        function animateButton(button) {
            const content = button.querySelector('.button-content');
            if (content) {
                content.classList.remove('icon-animate');
                // Force reflow
                content.offsetHeight;
                content.classList.add('icon-animate');
            }
        }

        function inputNumber(num) {
            playNumberSound();
            vibrate(getNumberVibration(num));
            
            // Animate the clicked button
            const buttons = document.querySelectorAll('button');
            buttons.forEach(btn => {
                if (btn.textContent.trim() === num || btn.querySelector('.button-content')?.textContent.trim() === num) {
                    animateButton(btn);
                }
            });
            
            if (waitingForOperand) {
                currentInput = num;
                waitingForOperand = false;
            } else {
                currentInput = currentInput === '0' ? num : currentInput + num;
            }
            updateDisplay();
        }

        function inputDecimal() {
            playNumberSound();
            vibrate(getSpecialVibration('decimal'));
            
            // Animate the decimal button
            const buttons = document.querySelectorAll('button');
            buttons.forEach(btn => {
                if (btn.textContent.trim() === '.' || btn.querySelector('.button-content')?.textContent.trim() === '.') {
                    animateButton(btn);
                }
            });
            
            if (waitingForOperand) {
                currentInput = '0.';
                waitingForOperand = false;
            } else if (currentInput.indexOf('.') === -1) {
                currentInput += '.';
            }
            updateDisplay();
        }

        function inputOperator(nextOperator) {
            playOperatorSound();
            vibrate(getOperatorVibration(nextOperator));
            
            // Animate the operator button
            const operatorSymbols = {'+': '+', '-': '−', '*': '×', '/': '÷'};
            const displaySymbol = operatorSymbols[nextOperator];
            const buttons = document.querySelectorAll('button');
            buttons.forEach(btn => {
                if (btn.textContent.trim() === displaySymbol || btn.querySelector('.button-content')?.textContent.trim() === displaySymbol) {
                    animateButton(btn);
                }
            });
            
            const inputValue = parseFloat(currentInput);

            if (previousInput === null) {
                previousInput = inputValue;
            } else if (operator) {
                const currentValue = previousInput || 0;
                const newValue = performCalculation(currentValue, inputValue, operator);

                currentInput = String(newValue);
                previousInput = newValue;
            }

            waitingForOperand = true;
            operator = nextOperator;
            updateDisplay();
        }

        function calculate() {
            const inputValue = parseFloat(currentInput);

            if (previousInput !== null && operator) {
                playEqualsSound();
                vibrate(getOperatorVibration('='));
                
                // Animate the equals button
                const buttons = document.querySelectorAll('button');
                buttons.forEach(btn => {
                    if (btn.textContent.trim() === '=' || btn.querySelector('.button-content')?.textContent.trim() === '=') {
                        animateButton(btn);
                    }
                });
                
                const newValue = performCalculation(previousInput, inputValue, operator);
                
                // Save to history
                const calculation = {
                    expression: `${previousInput} ${getOperatorSymbol(operator)} ${inputValue}`,
                    result: newValue,
                    timestamp: new Date().toLocaleString()
                };
                
                calculationHistory.unshift(calculation);
                if (calculationHistory.length > 50) {
                    calculationHistory = calculationHistory.slice(0, 50);
                }
                localStorage.setItem('calculatorHistory', JSON.stringify(calculationHistory));
                
                currentInput = String(newValue);
                previousInput = null;
                operator = null;
                waitingForOperand = true;
                updateDisplay();
            }
        }

        function getOperatorSymbol(op) {
            switch (op) {
                case '+': return '+';
                case '-': return '−';
                case '*': return '×';
                case '/': return '÷';
                default: return op;
            }
        }

        function performCalculation(firstOperand, secondOperand, operator) {
            switch (operator) {
                case '+':
                    return firstOperand + secondOperand;
                case '-':
                    return firstOperand - secondOperand;
                case '*':
                    return firstOperand * secondOperand;
                case '/':
                    return secondOperand !== 0 ? firstOperand / secondOperand : 0;
                default:
                    return secondOperand;
            }
        }

        function clearAll() {
            playClearSound();
            vibrate(getSpecialVibration('clear'));
            
            currentInput = '0';
            previousInput = null;
            operator = null;
            waitingForOperand = false;
            updateDisplay();
        }

        function deleteLastDigit() {
            playDeleteSound();
            vibrate(getSpecialVibration('delete'));
            
            // Animate the delete button
            const buttons = document.querySelectorAll('button');
            buttons.forEach(btn => {
                const svg = btn.querySelector('svg');
                if (svg && svg.querySelector('path[d*="M12 14l2-2"]')) {
                    animateButton(btn);
                }
            });
            
            // If we're in the middle of an operation and waiting for operand
            if (waitingForOperand && operator) {
                // Remove the operator and go back to previous state
                operator = null;
                waitingForOperand = false;
                if (previousInput !== null) {
                    currentInput = String(previousInput);
                    previousInput = null;
                }
                updateDisplay();
                return;
            }
            
            // If we have a previous input and operator but current input has content
            if (previousInput !== null && operator && !waitingForOperand) {
                // Delete from current input
                if (currentInput.length > 1) {
                    currentInput = currentInput.slice(0, -1);
                } else {
                    // If current input becomes empty, remove operator
                    currentInput = '0';
                    waitingForOperand = true;
                }
                updateDisplay();
                return;
            }
            
            // Normal deletion from current input
            if (currentInput.length > 1) {
                currentInput = currentInput.slice(0, -1);
            } else {
                currentInput = '0';
            }
            updateDisplay();
        }

        function inputPercentage() {
            playOperatorSound();
            vibrate(getOperatorVibration('%'));
            
            // Animate the percentage button
            const buttons = document.querySelectorAll('button');
            buttons.forEach(btn => {
                if (btn.textContent.trim() === '%' || btn.querySelector('.button-content')?.textContent.trim() === '%') {
                    animateButton(btn);
                }
            });
            
            const inputValue = parseFloat(currentInput);
            
            if (previousInput !== null && operator) {
                // If we're in the middle of a calculation, treat % as "percent of previous number"
                // For example: 200 + 10% = 200 + (200 * 0.1) = 220
                let percentValue;
                switch (operator) {
                    case '+':
                    case '-':
                        percentValue = (previousInput * inputValue) / 100;
                        break;
                    case '*':
                    case '/':
                        percentValue = inputValue / 100;
                        break;
                    default:
                        percentValue = inputValue / 100;
                }
                currentInput = String(percentValue);
            } else {
                // Simple percentage conversion: 50% = 0.5
                const percentValue = inputValue / 100;
                currentInput = String(percentValue);
                previousInput = null;
                operator = null;
                waitingForOperand = false;
            }
            
            updateDisplay();
        }

        // Keyboard support
        document.addEventListener('keydown', function(event) {
            const key = event.key;
            
            if (key >= '0' && key <= '9') {
                inputNumber(key);
            } else if (key === '.') {
                inputDecimal();
            } else if (key === '+') {
                inputOperator('+');
            } else if (key === '-') {
                inputOperator('-');
            } else if (key === '*') {
                inputOperator('*');
            } else if (key === '/') {
                event.preventDefault();
                inputOperator('/');
            } else if (key === 'Enter' || key === '=') {
                calculate();
            } else if (key === 'Escape') {
                clearAll();
            } else if (key === 'Backspace') {
                deleteLastDigit();
            } else if (key === '%') {
                inputPercentage();
            }
        });

        // Menu functionality
        function toggleMenu() {
            const menu = document.getElementById('menuDropdown');
            const isVisible = menu.classList.contains('opacity-100');
            
            if (isVisible) {
                playMenuCloseSound();
                vibrate(getSpecialVibration('menu'));
                menu.classList.remove('opacity-100', 'visible', 'scale-100', 'translate-y-0');
                menu.classList.add('opacity-0', 'invisible', 'scale-90', 'translate-y-2');
            } else {
                playMenuOpenSound();
                vibrate(getSpecialVibration('menu'));
                menu.classList.remove('opacity-0', 'invisible', 'scale-90', 'translate-y-2');
                menu.classList.add('opacity-100', 'visible', 'scale-100', 'translate-y-0');
            }
        }

        function showHistory() {
            playMenuSelectSound();
            toggleMenu();
            
            // Create history modal
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm flex items-center justify-center z-50 p-4';
            modal.onclick = function(e) {
                if (e.target === modal) closeHistory();
            };
            
            const historyPanel = document.createElement('div');
            historyPanel.className = 'bg-white/20 dark:bg-gray-800/20 backdrop-blur-xl border border-white/30 dark:border-gray-600/30 rounded-xl sm:rounded-2xl p-4 sm:p-6 w-full max-w-sm sm:max-w-md max-h-[80vh] overflow-hidden flex flex-col shadow-2xl';
            historyPanel.style.animation = 'modal-entrance 0.3s ease forwards';
            
            // Header
            const header = document.createElement('div');
            header.className = 'flex justify-between items-center mb-4 pb-4 border-b border-white/20 dark:border-gray-400/20';
            header.innerHTML = `
                <h2 class="text-lg sm:text-xl font-semibold text-white dark:text-white drop-shadow-lg">Calculation History</h2>
                <div class="flex gap-1 sm:gap-2">
                    <button onclick="clearHistory()" class="text-red-300 hover:text-red-200 px-2 py-1 sm:px-3 sm:py-1 rounded-md sm:rounded-lg hover:bg-red-500/20 backdrop-blur-sm transition-colors text-xs sm:text-sm font-medium">
                        Clear All
                    </button>
                    <button onclick="closeHistory()" class="text-white/80 hover:text-white p-1 hover:bg-white/10 rounded-md sm:rounded-lg backdrop-blur-sm transition-colors">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            `;
            
            // History list
            const historyList = document.createElement('div');
            historyList.className = 'flex-1 overflow-y-auto';
            historyList.id = 'historyList';
            
            if (calculationHistory.length === 0) {
                historyList.innerHTML = `
                    <div class="text-center py-8 text-white/70 dark:text-white/70">
                        <svg class="w-12 h-12 mx-auto mb-3 opacity-60 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <p class="font-medium drop-shadow-md">No calculations yet</p>
                        <p class="text-sm mt-1 text-white/60 drop-shadow-sm">Your calculation history will appear here</p>
                    </div>
                `;
            } else {
                historyList.innerHTML = calculationHistory.map(calc => `
                    <div class="mb-3 p-4 bg-white/10 dark:bg-white/5 backdrop-blur-md border border-white/20 dark:border-white/10 rounded-xl hover:bg-white/20 dark:hover:bg-white/10 hover:border-white/30 transition-all duration-200 cursor-pointer shadow-lg hover:shadow-xl" onclick="useHistoryResult('${calc.result}')">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <div class="text-white dark:text-white font-medium drop-shadow-md">${calc.expression}</div>
                                <div class="text-lg font-semibold text-blue-200 dark:text-blue-300 drop-shadow-lg">= ${parseFloat(calc.result).toLocaleString()}</div>
                            </div>
                        </div>
                        <div class="text-xs text-white/60 dark:text-white/60 mt-2 drop-shadow-sm">${calc.timestamp}</div>
                    </div>
                `).join('');
            }
            
            historyPanel.appendChild(header);
            historyPanel.appendChild(historyList);
            modal.appendChild(historyPanel);
            document.body.appendChild(modal);
            
            // Store reference for closing
            window.currentHistoryModal = modal;
        }

        function closeHistory() {
            if (window.currentHistoryModal) {
                document.body.removeChild(window.currentHistoryModal);
                window.currentHistoryModal = null;
            }
        }

        function clearHistory() {
            calculationHistory = [];
            localStorage.removeItem('calculatorHistory');
            
            const historyList = document.getElementById('historyList');
            if (historyList) {
                historyList.innerHTML = `
                    <div class="text-center py-8 text-white/70 dark:text-white/70">
                        <svg class="w-12 h-12 mx-auto mb-3 opacity-60 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <p class="font-medium drop-shadow-md">No calculations yet</p>
                        <p class="text-sm mt-1 text-white/60 drop-shadow-sm">Your calculation history will appear here</p>
                    </div>
                `;
            }
        }

        function useHistoryResult(result) {
            currentInput = result;
            previousInput = null;
            operator = null;
            waitingForOperand = false;
            updateDisplay();
            closeHistory();
        }

        function showAbout() {
            playMenuSelectSound();
            alert('Calculator App\nCreated by Shami Khan\n\nFeatures:\n• Basic arithmetic operations\n• Dark/Light theme\n• Keyboard support\n• Glass morphism design');
            toggleMenu();
        }

        // Author menu functionality
        function toggleAuthorMenu() {
            const menu = document.getElementById('authorMenu');
            const isVisible = menu.classList.contains('opacity-100');
            
            if (isVisible) {
                playMenuCloseSound();
                vibrate(getSpecialVibration('menu'));
                menu.classList.remove('opacity-100', 'visible', 'scale-100', 'translate-y-0');
                menu.classList.add('opacity-0', 'invisible', 'scale-90', 'translate-y-2');
            } else {
                playMenuOpenSound();
                vibrate(getSpecialVibration('menu'));
                menu.classList.remove('opacity-0', 'invisible', 'scale-90', 'translate-y-2');
                menu.classList.add('opacity-100', 'visible', 'scale-100', 'translate-y-0');
            }
        }

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('menuDropdown');
            const authorMenu = document.getElementById('authorMenu');
            const menuButton = event.target.closest('button[onclick="toggleMenu()"]');
            const authorButton = event.target.closest('[onclick="toggleAuthorMenu()"]');
            
            // Close main menu
            if (!menuButton && !menu.contains(event.target)) {
                menu.classList.remove('opacity-100', 'visible', 'scale-100', 'translate-y-0');
                menu.classList.add('opacity-0', 'invisible', 'scale-90', 'translate-y-2');
            }
            
            // Close author menu
            if (!authorButton && !authorMenu.contains(event.target)) {
                authorMenu.classList.remove('opacity-100', 'visible', 'scale-100', 'translate-y-0');
                authorMenu.classList.add('opacity-0', 'invisible', 'scale-90', 'translate-y-2');
            }
        });

        // Theme mode functionality
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('darkMode', document.documentElement.classList.contains('dark'));
        }

        // Color randomization functionality
        function randomizeColors() {
            playMenuSelectSound();
            const colors = [
                '#ff6384', // Pink
                '#36a2eb', // Blue
                '#ffcd56', // Yellow
                '#4bc0c0', // Teal
                '#9966ff', // Purple
                '#ff9f40', // Orange
                '#c9cbcf', // Grey
                '#5366ff', // Indigo
                '#ff63ff', // Magenta
                '#63ff84', // Green
                '#ffc0cb', // Light Pink
                '#add8e6', // Light Blue
                '#90ee90', // Light Green
                '#dda0dd', // Plum
                '#ffdab9', // Peach
            ];
            
            // Get all calculator buttons
            const allButtons = document.querySelectorAll('.grid button');
            
            // Apply random colors to each button
            allButtons.forEach((button, index) => {
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                
                // Convert hex to rgba for transparency
                const r = parseInt(randomColor.slice(1, 3), 16);
                const g = parseInt(randomColor.slice(3, 5), 16);
                const b = parseInt(randomColor.slice(5, 7), 16);
                
                const baseColor = `rgba(${r}, ${g}, ${b}, 0.4)`;
                const hoverColor = `rgba(${r}, ${g}, ${b}, 0.6)`;
                const activeColor = `rgba(${r}, ${g}, ${b}, 0.8)`;
                const borderColor = `rgba(${r}, ${g}, ${b}, 0.7)`;
                const shadowColor = `rgba(${r}, ${g}, ${b}, 0.3)`;
                
                // Apply base styles
                button.style.setProperty('background', baseColor, 'important');
                button.style.setProperty('border', `1px solid ${borderColor}`, 'important');
                button.style.setProperty('box-shadow', `0 8px 32px 0 ${shadowColor}`, 'important');
                button.style.setProperty('backdrop-filter', 'blur(10px)', 'important');
                button.style.setProperty('color', 'white', 'important');
                
                // Store colors as data attributes for hover effects
                button.setAttribute('data-base-color', baseColor);
                button.setAttribute('data-hover-color', hoverColor);
                button.setAttribute('data-active-color', activeColor);
                button.setAttribute('data-border-color', borderColor);
                button.setAttribute('data-shadow-color', shadowColor);
            });
            
            // Add hover and active effects
            addColorHoverEffects();
            
            localStorage.setItem('colorsRandomized', 'true');
            toggleMenu();
        }
        
        function addColorHoverEffects() {
            const allButtons = document.querySelectorAll('.grid button');
            
            allButtons.forEach(button => {
                // Remove existing listeners
                button.removeEventListener('mouseenter', handleColorHover);
                button.removeEventListener('mouseleave', handleColorLeave);
                button.removeEventListener('mousedown', handleColorActive);
                button.removeEventListener('mouseup', handleColorInactive);
                
                // Add new listeners
                button.addEventListener('mouseenter', handleColorHover);
                button.addEventListener('mouseleave', handleColorLeave);
                button.addEventListener('mousedown', handleColorActive);
                button.addEventListener('mouseup', handleColorInactive);
            });
        }
        
        function handleColorHover(e) {
            const button = e.target;
            const hoverColor = button.getAttribute('data-hover-color');
            const borderColor = button.getAttribute('data-border-color');
            const shadowColor = button.getAttribute('data-shadow-color');
            
            if (hoverColor) {
                button.style.setProperty('background', hoverColor, 'important');
                button.style.setProperty('border', `1px solid ${borderColor}`, 'important');
                button.style.setProperty('box-shadow', `0 12px 40px 0 ${shadowColor}`, 'important');
            }
        }
        
        function handleColorLeave(e) {
            const button = e.target;
            const baseColor = button.getAttribute('data-base-color');
            const borderColor = button.getAttribute('data-border-color');
            const shadowColor = button.getAttribute('data-shadow-color');
            
            if (baseColor) {
                button.style.setProperty('background', baseColor, 'important');
                button.style.setProperty('border', `1px solid ${borderColor}`, 'important');
                button.style.setProperty('box-shadow', `0 8px 32px 0 ${shadowColor}`, 'important');
            }
        }
        
        function handleColorActive(e) {
            const button = e.target;
            const activeColor = button.getAttribute('data-active-color');
            const borderColor = button.getAttribute('data-border-color');
            
            if (activeColor) {
                button.style.setProperty('background', activeColor, 'important');
                button.style.setProperty('transform', 'scale(0.95)', 'important');
            }
        }
        
        function handleColorInactive(e) {
            const button = e.target;
            const hoverColor = button.getAttribute('data-hover-color');
            
            if (hoverColor) {
                button.style.setProperty('background', hoverColor, 'important');
                button.style.setProperty('transform', 'scale(1)', 'important');
            }
        }
        
        function resetColors() {
            playMenuSelectSound();
            // Get all calculator buttons
            const allButtons = document.querySelectorAll('.grid button');
            
            // Reset all buttons to original styles
            allButtons.forEach(button => {
                // Remove all custom styles
                button.style.removeProperty('background');
                button.style.removeProperty('border');
                button.style.removeProperty('box-shadow');
                button.style.removeProperty('backdrop-filter');
                button.style.removeProperty('color');
                button.style.removeProperty('transform');
                
                // Remove data attributes
                button.removeAttribute('data-base-color');
                button.removeAttribute('data-hover-color');
                button.removeAttribute('data-active-color');
                button.removeAttribute('data-border-color');
                button.removeAttribute('data-shadow-color');
                
                // Remove color event listeners
                button.removeEventListener('mouseenter', handleColorHover);
                button.removeEventListener('mouseleave', handleColorLeave);
                button.removeEventListener('mousedown', handleColorActive);
                button.removeEventListener('mouseup', handleColorInactive);
            });
            
            localStorage.setItem('colorsRandomized', 'false');
            toggleMenu();
        }

        // Initialize theme from localStorage
        if (localStorage.getItem('darkMode') === 'true') {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        // Initialize colors from localStorage
        if (localStorage.getItem('colorsRandomized') === 'true') {
            // Wait for DOM to be fully loaded
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(() => {
                    randomizeColors();
                }, 200);
            });
        }

        // Initialize display
        updateDisplay();
        
        // Initialize sound toggle text
        function updateSoundToggleText() {
            const soundToggleText = document.getElementById('soundToggleText');
            if (soundToggleText) {
                soundToggleText.textContent = soundEnabled ? 'Sound: ON' : 'Sound: OFF';
            }
        }
        
        // Update sound toggle text when page loads
        setTimeout(updateSoundToggleText, 100);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95e83f89065490ab',t:'MTc1MjQwNDEyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;"></iframe>

<div id="volume-booster-visusalizer">
                <div class="sound">
                    <div class="sound-icon"></div>
                    <div class="sound-wave sound-wave_one"></div>
                    <div class="sound-wave sound-wave_two"></div>
                    <div class="sound-wave sound-wave_three"></div>
                </div>
                <div class="segments-box">
                    <div data-range="1-20" class="segment"><span></span></div>
                    <div data-range="21-40" class="segment"><span></span></div>
                    <div data-range="41-60" class="segment"><span></span></div>
                    <div data-range="61-80" class="segment"><span></span></div>
                    <div data-range="81-100" class="segment"><span></span></div>
                </div>
            </div></body></html>